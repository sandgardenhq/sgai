{{/* compose_frontmatter.html - Interactive mode and completion gate panel */}}
<details class="compose-panel" data-preserve-open>
	<summary>
		<span>Frontmatter Configuration</span>
	</summary>
	<div class="compose-panel-content">
		<form hx-post="/compose/update/frontmatter?workspace={{.DirName}}" 
			hx-trigger="change delay:500ms" 
			hx-target="#compose-preview"
			hx-swap="innerHTML">
			<label for="interactive">
				Interactive Mode
			</label>
			<select name="interactive" id="interactive">
				<option value="yes" {{if eq .State.Interactive "yes"}}selected{{end}}>Yes - Always prompt for human input</option>
				<option value="no" {{if eq .State.Interactive "no"}}selected{{end}}>No - Fully autonomous</option>
				<option value="auto" {{if eq .State.Interactive "auto"}}selected{{end}}>Auto - Agent decides when to ask</option>
			</select>

			<label for="completionGate">
				Completion Gate Script (optional)
			</label>
			<input type="text" 
				name="completionGate" 
				id="completionGate" 
				placeholder="make test" 
				value="{{.State.CompletionGate}}">
			<small>Command to verify work completion (e.g., make test, npm test)</small>
		</form>
	</div>
</details>
