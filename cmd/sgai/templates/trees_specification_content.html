<div class="specification-tab-content">
{{if .GoalContent}}
<details class="spec-foldable" open>
	<summary>
		<strong>GOAL.md</strong>
		{{if .CodeAvailable}}
			{{if .IsTerminalEditor}}
			<div class="terminal-editor-path">
				<small>Path (select to copy):</small>
				<input type="text" readonly value="{{.Directory}}/GOAL.md" class="path-input">
			</div>
			{{else}}
			<form action="/workspaces/{{.DirName}}/open-vscode?file=GOAL.md" method="post" class="spec-vscode-form">
				<button type="submit" class="vscode-file-btn" title="Open in Editor">&#128221;</button>
			</form>
			{{end}}
		{{else}}
		<span class="vscode-file-btn disabled" title="Editor not available">&#128221;</span>
		{{end}}
	</summary>
	<div class="spec-content">{{.GoalContent}}</div>
</details>
{{else}}
<article class="empty-state">
	<p>No GOAL.md file found</p>
</article>
{{end}}

{{if .HasProjectMgmt}}
<details class="spec-foldable" open>
	<summary>
		<strong>PROJECT_MANAGEMENT.md</strong>
		{{if .CodeAvailable}}
			{{if .IsTerminalEditor}}
			<div class="terminal-editor-path">
				<small>Path (select to copy):</small>
				<input type="text" readonly value="{{.Directory}}/.sgai/PROJECT_MANAGEMENT.md" class="path-input">
			</div>
			{{else}}
			<form action="/workspaces/{{.DirName}}/open-vscode?file=PROJECT_MANAGEMENT.md" method="post" class="spec-vscode-form">
				<button type="submit" class="vscode-file-btn" title="Open in Editor">&#128221;</button>
			</form>
			{{end}}
		{{else}}
		<span class="vscode-file-btn disabled" title="Editor not available">&#128221;</span>
		{{end}}
	</summary>
	<div class="spec-content">{{.ProjectMgmtContent}}</div>
</details>
{{end}}
</div>
