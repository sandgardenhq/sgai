<div class="header-actions-container">
	{{if not .Running}}
	<form action="/workspaces/{{.DirName}}/start" method="post">
		<input type="hidden" name="directory" value="{{.Directory}}">
		<input type="hidden" name="auto" value="true">
		<button type="submit" class="action-btn outline">Self-drive</button>
	</form>
	<form action="/workspaces/{{.DirName}}/start" method="post">
		<input type="hidden" name="directory" value="{{.Directory}}">
		<button type="submit" class="action-btn outline">Start</button>
	</form>
	{{if not .IsFork}}
	<form action="/workspaces/{{.DirName}}/fork" method="post">
		<input type="hidden" name="dir" value="{{.Directory}}">
		<button type="submit" class="action-btn outline">Fork</button>
	</form>
	{{end}}
	<a href="/compose?workspace={{.DirName}}" role="button" class="action-btn outline">Compose GOAL</a>
	{{if .HasEditedGoal}}
	<a href="/workspaces/{{.DirName}}/goal" role="button" class="action-btn outline">Edit GOAL</a>
	{{end}}
	{{if .CodeAvailable}}
		{{if .IsTerminalEditor}}
		<div class="terminal-editor-workspace-path">
			<small>Workspace Path:</small>
			<input type="text" readonly value="{{.Directory}}" class="path-input">
		</div>
		{{else}}
		<form action="/workspaces/{{.DirName}}/open-vscode" method="post" style="display:inline">
			<button type="submit" class="action-btn outline">Open in Editor</button>
		</form>
		{{end}}
	{{else}}
	<button type="button" class="action-btn outline" disabled data-tooltip="Editor not available or remote connection">Open in Editor</button>
	{{end}}
	{{end}}
	{{if .Running}}
	<form action="/workspaces/{{.DirName}}/toggle-mode" method="post">
		<input type="hidden" name="mode" value="auto">
		<button type="submit" class="action-btn{{if not .InteractiveAuto}} outline{{end}}">Self-Drive</button>
	</form>
	<form action="/workspaces/{{.DirName}}/toggle-mode" method="post">
		<input type="hidden" name="mode" value="yes">
		<button type="submit" class="action-btn{{if .InteractiveAuto}} outline{{end}}">Start</button>
	</form>
	<form action="/workspaces/{{.DirName}}/stop" method="post">
		<input type="hidden" name="directory" value="{{.Directory}}">
		<button type="submit" class="action-btn outline">Stop</button>
	</form>
	{{end}}
	<a href="/workspaces/{{.DirName}}/skills" role="button" class="action-btn outline">Skills</a>
	<a href="/workspaces/{{.DirName}}/snippets" role="button" class="action-btn outline">Snippets</a>
	<a href="/workspaces/{{.DirName}}/agents" role="button" class="action-btn outline">Agents</a>
	{{if .NeedsInput}}
	<a href="/respond?dir={{.Directory}}&returnTo={{.ReturnTo}}" role="button" class="action-btn attention">Respond to Agent</a>
	{{end}}
</div>
